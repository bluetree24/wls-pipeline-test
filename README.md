# wls-pipeline-test
パイプラインを使用してWLSをデプロイする。ドメイン更新してからの反映も確認する

---



>## 【CI/CDの流れ】 
--
  ### ●ローカルリポジトリ(GitLab)での作業　※人間の作業はここだけ！  
  ・WDTでWLSドメインのモデルを抽出する or モデルを用意しておく  
   　⇒モデルの抽出先をGitLabリポジトリにしておく  
  ・リポジトリにWDT WITを配置する  
  ・モデル・バインディングリソースを編集する  
  ・パイプライン処理を編集する  
  ・リモートリポジトリにPush  

  -- 
  ### ●リモートリポジトリ(GitLab)のアクション  
  ・ローカルリポジトリからPushされたものをリモートリポジトリにフェッチしてコミットする（マージ）  
  ・これがトリガーとなってパイプライン処理開始をランナーに命令する

  -- 
  ### ●パイプライン処理開始  
  ・ランナーはホームディレクトリをボリュームマウントしたコンテナを実行する  
  ・ランナーがリモートリポジトリをクローンする  
   　⇒ランナーのイメージはOracleJDK:11にすればJava(WIT用)は配置しないで済む  
  ・モデルをもとにWITでWLSイメージを作成する  
  ・イメージをDockerレジストリにプッシュする  
  ・2つのリソース（モデル・バインディング）を適用する  


